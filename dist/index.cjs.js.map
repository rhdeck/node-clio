{"version":3,"file":"index.cjs.js","sources":["../src/index.js"],"sourcesContent":["import fetch from \"node-fetch\";\nimport FormData from \"form-data\";\nimport { URLSearchParams } from \"url\";\nconst authorize = async ({ clientId, clientSecret, code, redirectUri }) => {\n  const body = new URLSearchParams({\n    client_id: clientId,\n    client_secret: clientSecret,\n    code,\n    redirect_uri: redirectUri,\n    grant_type: \"authorization_code\"\n  });\n  console.log(body.toString());\n  const res = await fetch(\"https://app.clio.com/oauth/token\", {\n    method: \"post\",\n    body\n  });\n  const { access_token, refresh_token, expires_in } = await res.json();\n  return {\n    accessToken: access_token,\n    refreshToken: refresh_token,\n    expiresIn: expires_in\n  };\n};\nconst getAccessToken = async ({ clientId, clientSecret, refreshToken }) => {\n  const body = new URLSearchParams({\n    client_id: clientId,\n    client_secret: clientSecret,\n    refresh_token: refreshToken,\n    grant_type: \"refresh_token\"\n  });\n  const res = await fetch(\"https://app.clio.com/oauth/token\", {\n    method: \"post\",\n    body\n  });\n  const { access_token, refresh_token, expires_in } = await res.json();\n  return {\n    accessToken: access_token,\n    refreshToken: refresh_token,\n    expiresIn: expires_in\n  };\n};\nconst makeFields = fields => {\n  return fields\n    .map(field => {\n      if (typeof field === \"string\") return field;\n      if (typeof field === \"object\") {\n        const { field: fieldName, fields } = field;\n        const fieldString = makeFields(fields);\n        return `${fieldName}{${fields}}`;\n      }\n    })\n    .join(\",\");\n};\nconst gets = async ({ path, fields, accessToken, ...args }) => {\n  const headers = {\n    Authorization: `Bearer ${accessToken}`\n  };\n  const url = new URL(\"https://app.clio.com/api/v4\");\n  url.pathname = `${url.pathname}/${path}.json`;\n  url.searchParams.append(\"fields\", makeFields(fields));\n  Object.entries(args).forEach(([k, v]) => url.searchParams.append(k, v));\n  const ret = await fetch(url, { method: \"get\", headers });\n  try {\n    const text = await ret.text();\n    const obj = JSON.parse(text);\n    return obj;\n  } catch (e) {\n    console.log(\"Hit error parsing result, probable error message\");\n    console.log(text);\n    throw text;\n  }\n};\nconst create = async ({ path, fields, data, accessToken }) => {\n  const headers = {\n    Authorization: `Bearer ${accessToken}`\n  };\n  const url = new URL(\"https://app.clio.com/api/v4\");\n  const body = new FormData();\n  body.append(\"data\", data);\n  url.pathname = `${url.pathname}/${path}.json`;\n  url.searchParams.append(\"fields\", makeFields(fields));\n  const ret = await fetch(url, { method: \"post\", headers, body });\n  try {\n    const text = await ret.text();\n    const obj = JSON.parse(text);\n    return obj;\n  } catch (e) {\n    console.log(\"Hit error parsing result, probable error message\");\n    console.log(text);\n    throw text;\n  }\n};\nconst get = async ({ path, id, fields, accessToken }) => {\n  const headers = {\n    Authorization: `Bearer ${accessToken}`\n  };\n  const url = new URL(\"https://app.clio.com/api/v4\");\n  url.pathname = `${url.pathname}/${path}/${id}.json`;\n  url.searchParams.append(\"fields\", makeFields(fields));\n  const ret = await fetch(url, { method: \"get\", headers });\n  try {\n    const text = await ret.text();\n    const obj = JSON.parse(text);\n    return obj;\n  } catch (e) {\n    console.log(\"Hit error parsing result, probable error message\");\n    console.log(text);\n    throw text;\n  }\n};\nconst update = async ({ etag, path, id, fields, data, accessToken }) => {\n  if (!etag) etag = data.etag;\n  const body = new FormData();\n  Object.entries(data).map(([k, v]) => body.append(k, v));\n  const headers = {\n    Authorization: `Bearer ${accessToken}`,\n    \"IF-MATCH\": etag,\n    ...body.getHeaders()\n  };\n  const url = new URL(\"https://app.clio.com/api/v4\");\n  url.pathname = `${url.pathname}/${path}/${id}.json`;\n  url.searchParams.append(\"fields\", makeFields(fields));\n  const ret = await fetch(url, { method: \"patch\", body, headers });\n\n  try {\n    const text = await ret.text();\n    const obj = JSON.parse(text);\n    return obj;\n  } catch (e) {\n    console.log(\"Hit error parsing result, probable error message\");\n    console.log(text);\n    throw text;\n  }\n};\nconst remove = async ({ path, id, accessToken }) => {\n  const headers = {\n    Authorization: `Bearer ${accessToken}`\n  };\n  const url = new URL(\"https://app.clio.com/api/v4\");\n  url.pathname = `${url.pathname}/${path}/${id}.json`;\n  const ret = await fetch(url, { method: \"delete\", headers });\n  try {\n    const text = await ret.text();\n    const obj = JSON.parse(text);\n    return obj;\n  } catch (e) {\n    console.log(\"Hit error parsing result, probable error message\");\n    console.log(text);\n    throw text;\n  }\n};\nclass Clio {\n  constructor({\n    clientId,\n    clientSecret,\n    refreshToken,\n    accessToken,\n    onNewRefreshToken\n  }) {\n    if (!clientId || !clientSecret)\n      throw \"Clio must be initialized with a clientId and a clientSecret\";\n    this.clientId = clientId;\n    this.clientSecret = clientSecret;\n    this.refreshToken = refreshToken;\n    this.accessToken = accessToken;\n    this.onNewRefreshToken = onNewRefreshToken;\n  }\n  async authorize({ code, redirectUri }) {\n    if (!code || !redirectUri)\n      throw \"Authorize requires a code and the redirectUri passed in the initial authorization request\";\n    const { refreshToken, accessToken } = await authorize({\n      clientId: this.clientId,\n      clientSecret: this.clientSecret,\n      code,\n      redirectUri\n    });\n    this.accessToken = accessToken;\n    this.refreshToken = refreshToken;\n    if (this.onNewRefreshToken) this.onNewRefreshToken(refreshToken);\n  }\n  async getAccessToken() {\n    if (!this.refreshToken)\n      throw \"Cannot get an access token without a refresh token\";\n    const { accessToken, refreshToken: newToken } = await getAccessToken({\n      clientId: this.clientId,\n      clientSecret: this.clientSecret,\n      refreshToken: this.refreshToken\n    });\n    this.accessToken = accessToken;\n    if (newToken) {\n      this.refreshToken = newToken;\n      if (this.onNewRefreshToken) this.onNewRefreshToken(newToken);\n    }\n  }\n  async get({ path, id, fields }) {\n    if (!this.accessToken) await this.getAccessToken();\n    return get({ path, id, fields, accessToken: this.accessToken });\n  }\n  async gets({ path, fields }) {\n    if (!this.accessToken) await this.getAccessToken();\n    return gets({ path, fields, accessToken: this.accessToken });\n  }\n  async create({ path, fields, data }) {\n    if (!this.accessToken) await this.getAccessToken();\n    return create({ path, fields, data, accessToken: this.accessToken });\n  }\n  async update({ path, fields, etag, data }) {\n    if (!this.accessToken) await this.getAccessToken();\n    return update({\n      path,\n      id,\n      fields,\n      data,\n      etag,\n      accessToken: this.accessToken\n    });\n  }\n  async remove({ path, id }) {\n    if (!this.accessToken) await this.getAccessToken();\n    return remove({ path, id, accessToken: this.accessToken });\n  }\n  async getEntity(type, id, fields = null) {\n    const properties = await get({ path: type, id, fields });\n    return new ClioEntity(this, { properties, fields, id, type });\n  }\n}\nclass ClioEntity {\n  constructor(clio, { etag, id, properties, fields, type }) {\n    this.clio = clio;\n    this.properties = properties;\n    if (fields) this.fields = fields;\n    this.type = path;\n    this.id = id ? id : properties.id;\n    this.etag = etag ? etag : properties.etag;\n  }\n  async update(changes) {\n    const ret = await this.clio.update({\n      path: this.type,\n      id: this.id,\n      data: changes\n    });\n    this.properties = { ...this.properties, ret };\n    this.etag = ret.etag;\n  }\n  async delete() {\n    return this.clio.remove({ path: this.type, id: this.id });\n  }\n}\nexport {\n  Clio,\n  ClioEntity,\n  getAccessToken,\n  get,\n  gets,\n  create,\n  update,\n  authorize,\n  remove,\n  makeFields\n};\n"],"names":["authorize","clientId","clientSecret","code","redirectUri","body","URLSearchParams","client_id","client_secret","redirect_uri","grant_type","console","log","toString","fetch","method","res","json","access_token","refresh_token","expires_in","accessToken","refreshToken","expiresIn","getAccessToken","makeFields","fields","map","field","fieldName","fieldString","join","gets","path","args","headers","Authorization","url","URL","pathname","searchParams","append","Object","entries","forEach","k","v","ret","text","obj","JSON","parse","create","data","FormData","get","id","update","etag","getHeaders","remove","Clio","onNewRefreshToken","newToken","type","properties","ClioEntity","clio","changes"],"mappings":"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"}